{% extends "base.html" %}
{% block title %}Edit User{% endblock %}
{% block content %}



<div class="row">
    <!-- Card panel to display the user form -->
    <div class="col offset-l3 l6 offset-l3 s12 card-panel center-align">
        <h4>Edit User</h4>
        <form class="col s12" method="POST" action="{{ url_for('users.edit_user', user_id=user._id) }}">
            <div class="row">
                <!-- First Name -->
                <div class="input-field col s12">
                    <i class="fas fa-user prefix left"></i>
                    <input id="first_name" name="first_name" minlength="5" maxlength="30" 
                        value="{{ user.first_name }}" type="text" class="validate"
                        required>
                    <label for="first_name">First Name</label>
                </div>
            </div>
            <div class="row">
                <!-- Last Name -->
                <div class="input-field col s12">
                    <i class="fas fa-user prefix left"></i>
                    <input id="last_name" name="last_name" minlength="5" maxlength="30" 
                        value="{{ user.last_name }}" type="text" class="validate"
                        required>
                    <label for="last_name">Last Name</label>
                </div>
            </div>
            <div class="row">
                <!-- Email -->
                <div class="input-field col s12">
                    <i class="fas fa-envelope prefix left"></i>
                    <input id="email" name="email" minlength="5" maxlength="30" 
                        value="{{ user.email }}" type="text" class="validate"
                        required>
                    <label for="email">Email</label>
                </div>
            </div>
            <div class="row">
                <!-- Username -->
                <div class="input-field col s12">
                    <i class="fas fa-lock prefix left"></i>
                    <input id="username" name="username" minlength="5" maxlength="30" 
                        value="{{ user.username }}" type="text" class="validate"
                        required>
                    <label for="username">Username</label>
                </div>
            </div>
            <div class="row">
                <!-- Position -->
                <div class="input-field col s12">
                    <i class="fas fa-user-tag prefix left"></i>
                    <input id="position" name="position" minlength="5" maxlength="30" 
                        value="{{ user.position }}" type="text" class="validate"
                        required>
                    <label for="position">Position</label>
                </div>
            </div>
            {% if session.user|lower == "admin" %}
            <div class="row">
                <!-- Role selector -->
                <div class="col is-admin s12 switch left">
                    <i class="fas fa-user-cog left"></i>
                    <span class="left black-text">Role</span>
                    <label for="is_admin" class="black-text">
                        User
                        {% if user.is_admin == "admin" %}
                                <input type="checkbox" id="is_admin" name="is_admin" checked>
                            {% else %}
                                <input type="checkbox" id="is_admin" name="is_admin">
                            {% endif %}
                        <span class="lever"></span>
                        Admin
                    </label>
                </div>
            </div>
            {% endif %}
            <div class="row">
                <!-- Cancel and Submit button -->
                <div class="col s12 center-align">
                    {% if session.user|lower == "admin" %}
                    <a href="{{ url_for('users.get_users') }}" class="btn-large red darken-3 text-shadow">Cancel
                        <i class="fas fa-times-square left"></i>
                    </a>
                    {% else %}
                    <a href="{{ url_for('authentication.account') }}" class="btn-large red darken-3 text-shadow">Cancel
                        <i class="fas fa-times-square left"></i>
                    </a>
                    {% endif %}
                    <button class="btn-large light-blue darken-3 text-shadow" type="submit">
                        <i class="fas fa-plus-square left"></i>
                        Save Changes
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>




{% endblock %}